var NoahsApp=angular.module("NoahsApp",["ui.router"]);NoahsApp.config(["$stateProvider","$urlRouterProvider",function(e,o){console.log("heippa"),o.otherwise("/"),e.state("main",{url:"/",templateUrl:"app/components/main/main.html",controller:"MainController",controllerAs:"main"}).state("leaf",{url:"/leaf",templateUrl:"app/components/leaflet/leaflet.html",controller:"LeafletController",controllerAs:"leaflet"})}]),NoahsApp.controller("LeafletController",["$scope",function(e){function o(e,o){var t="+proj=utm +zone=35 +ellps=GRS80 +units=m +no_defs +towgs84=0,0,0,-0,-0,-0,0",a="+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs",l=proj4(t,a,[e,o]);return l}console.log("test controllerissa filussa"),e.name="olen testiä",console.log(o(875567.732,6335621.167));var t=new L.Proj.CRS.TMS("EPSG:3067","+proj=utm +zone=35 +ellps=GRS80 +units=m +towgs84=0,0,0,-0,-0,-0,0 +no_defs",[-548576,6291456,1548576,8388608],{resolutions:[8192,4096,2048,1024,512,256,128,64,32,16,8,4,2,1,.5,.25]}),a=new L.Map("map",{crs:t,continuousWorld:!0,worldCopyJump:!1,zoomControl:!0,layers:[]}),l="https://{s}.kapsi.fi/mapcache/peruskartta_3067/{z}/{x}/{y}.png",r='&copy; Karttamateriaali <a href="http://www.maanmittauslaitos.fi/avoindata">Maanmittauslaitos</a>',n=new L.Proj.TileLayer.TMS(l,t,{maxZoom:14,minZoom:0,tileSize:256,tms:!1,continuousWorld:!0,attribution:r,subdomains:["tile1","tile2"]}),i="/img/sade-tutka.png",s=[[70.49988067141419,10.2139235307523],[57.01073316247846,33.18909488231688]];L.imageOverlay(i,s).addTo(a),a.addLayer(n),a.setView([65.01275,25.46815],11);var p=L.marker([65.01275,25.46815]).bindPopup("Tämä on paikka.").openPopup();L.layerGroup([p]),L.circle([65.01275,25.46815],500,{color:"red",fillColor:"#f03",fillOpacity:.5}).addTo(a);p.addTo(a)}]),NoahsApp.service("FmiAPIService",["$http",function(e){this.requestTifs=function(o,t){var a={method:"POST",url:"http://localhost:8088/radar",data:{apikey:o,query:t}};return e(a).then(function(e){return console.log(e),e.data})["catch"](function(e){return console.log("Calling API produced an error:"),console.log(e.data.message),[]})}}]),NoahsApp.controller("MainController",["$scope","FmiAPIService",function(e,o){e.api_field="5c2fc68e-d165-45f5-af8f-ce9fc0b36e68",e.query_field="/wfs?request=GetFeature&storedquery_id=fmi::radar::composite::rr",e.fmilink="asdf",e.tiflinks=[],e.sendRequest=function(){o.requestTifs(e.api_field,e.query_field).then(function(o){e.fmilink=o.fmilink,e.tiflinks=o.tiflinks})}}]);
//# sourceMappingURL=app.min.js.map
